# 📊 GitHub Metrics Workflow
# MetricsのSVGを自動生成してmainブランチに保存する

name: 📊 Generate Metrics

on:
  schedule:
    - cron: "0 1 * * *"  # 毎日01:00（UTC）に自動実行
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      # リポジトリをチェックアウト
      - uses: actions/checkout@v3

      # Metricsを生成する
      - uses: lowlighter/metrics@latest
        with:
          filename: github-metrics.svg  # 出力されるファイル名
          token: ${{ secrets.SNAKE_TOKEN }}  # トークンを使ってAPIにアクセス
          user: raiton-boo              # GitHubユーザー名
          template: classic             # テンプレートスタイル
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Tokyo  # タイムゾーンを日本に
